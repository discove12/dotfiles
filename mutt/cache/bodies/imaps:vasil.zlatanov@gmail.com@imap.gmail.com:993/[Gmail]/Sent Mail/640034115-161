Return-Path: <vasil.zlatanov@gmail.com>
Received: from gmail.com ([46.195.186.137])
        by mx.google.com with ESMTPSA id e6sm34798315lbs.3.2014.01.02.09.20.28
        for <jca@wxcvbn.org>
        (version=TLSv1.2 cipher=RC4-SHA bits=128/128);
        Thu, 02 Jan 2014 09:20:29 -0800 (PST)
Date: Thu, 2 Jan 2014 18:20:25 +0100
From: Vasil Zlatanov <vasil.zlatanov@gmail.com>
To: =?iso-8859-1?Q?J=E9r=E9mie_Courr=E8ges-Anglas?= <jca@wxcvbn.org>
Subject: Re: [RP] Small Update rpws
Message-ID: <20140102172023.GA5086@gmail.com>
References: <20131230232733.GA17881@gmail.com>
 <87sit6jt0u.fsf@shannon.wxcvbn.org>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="ZPt4rx8FFjLCG7dd"
Content-Disposition: inline
In-Reply-To: <87sit6jt0u.fsf@shannon.wxcvbn.org>
User-Agent: Mutt/1.5.21 (2010-09-15)


--ZPt4rx8FFjLCG7dd
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

The "man" command produced the same output as the "perldoc" command which
requires a package to be installed.

rpwsm$i is not documented anywhere, as is the variable wspl. The user
would have to spend consirable time looking athe the source code of the
rpws script to identify them.

rpws{n,p} is briefly mentioned I don't know what's weird.

Who in their sane minds would use 3 modifiers in combination with an
F# key to move a window to another workspace. That's just retarded and
badly designed. This is the sole reason people are looking to change
that binding. When they read the manpage to figure out how to do that,
they find out that the "rpwsm#" is nowhere to be found.
That's why the man page should is updated to reflect on
the change. (2 modifiers is bad enough + we don't have to remove the old
bindings)=20

On Thu, Jan 02, 2014 at 04:35:45PM +0100, J=E9r=E9mie Courr=E8ges-Anglas wr=
ote:
>=20
> Hi,
>=20
> Vasil Zlatanov <vasil.zlatanov@gmail.com> writes:
>=20
> > I've been asked a few times on IRC about a command to move the current
> > window to a selected workspace, which is undocemented for some reason.
>=20
> I think it is documented:
>=20
>         This creates 6 aliases rpws1, rpws2, etc. It also binds the keys =
M-F1,
>         M-F2, etc to each rpwsN alias. Moreover, rpwsn (Next) and rpwsp (=
Prev)
>         are created, and C-M-{Right,Left} are bound to rpws{n,p}. Full li=
st of
>         keybindings created are:
>=20
>             M-F$i           Goto workspace $i
>             C-M-Right       Goto Next workspace
>             C-M-Left        Goto Prev workspace
>             C-M-S-F$i       Move window to workspace $i
>             C-M-greater     Move current window to next workspace
>             C-M-less        Move current window to prev workspace
>=20
> So did those users actually read ''perldoc rpws''?  Because I think
> that's the problem at stake here.
>=20
> Also:
> - adding a wordy description for rpwsm$i without doing the same for
>   rpwsm[np] looks weird to me.
> - replacing the default keybindings is an unrelated change and means
>   that users used to C-M-S-F$i will have to change their habits or
>   modify rpws/their config.  This is not desirable, IMHO.
>=20
> > Addionaly I added an option that prints the current workspace which
> > would be usefull for conky like configs.
>=20
> I'm not opposed to this (that would be a separate patch), but what's the
> advantage over ratpoison -c "getenv wspl"?
>=20
> Cheers,
>=20
> > From 708fa69f48f10dcbefc20633f553db660be47b24 Mon Sep 17 00:00:00 2001
> > From: Vasil Zlatanov <vasil.zlatanov@gmail.com>
> > Date: Tue, 31 Dec 2013 00:08:15 +0100
> > Subject: [PATCH] Updated rpws to documents the "rpwsm$i" functionality,=
 made
> >  it's bindings more sane and added an option "current" which prints the
> >  current workspace.
> >
> > ---
> >  contrib/rpws | 18 ++++++++++++++----
> >  1 file changed, 14 insertions(+), 4 deletions(-)
> >
> > diff --git a/contrib/rpws b/contrib/rpws
> > index 49105c5..558fd1c 100755
> > --- a/contrib/rpws
> > +++ b/contrib/rpws
> > @@ -1,5 +1,10 @@
> >  #!/usr/bin/env perl
> > =20
> > +# Copyright (c) 2013 Vasil Zlatanov <vasil.zlatanov@gmail.com>
> > +# All rights reserved. Modifications under same license as original sc=
ript.
> > +# Changelog:
> > +# 	Updated manpage and hotkeys
> > +# 	Added argument current which outputs the current workspace.
> >  #
> >  # Copyright (c) 2009 Hatem Nassrat <hnassrat@gmail.com>
> >  # All rights reserved. Modifications under same license as original sc=
ript.
> > @@ -245,7 +250,7 @@ sub add_keys
> >          # Switch Workspace
> >          rp_call ( "definekey top M-F$i rpws$i" );
> >          # Move Window to wrokspace
> > -        rp_call ( "definekey top C-M-S-F$i rpwsm$i" );
> > +        rp_call ( "definekey top C-M-F$i rpwsm$i" );
> >      }
> >      rp_call ( "definekey top C-M-Right rpwsn" );
> >      rp_call ( "definekey top C-M-Left rpwsp" );
> > @@ -270,6 +275,9 @@ if( $arg eq "help" ) {
> >  } elsif( $arg eq "restore" ) {
> >      my $filename =3D shift @ARGV;
> >      ws_dumprestore($filename);
> > +} elsif ( $arg eq "current" ) {
> > +   my $cws =3D rp_call( "getenv wspl" );
> > +   print "$cws";
> >  } else {
> >     open LOCK, ">>$lockfile" or die "Cannot open lockfile: $lockfile";
> >     flock(LOCK, LOCK_EX);
> > @@ -287,10 +295,11 @@ rpws - Implements multiple workspaces in ratpoison
> >   rpws init n [-k] [-a]  - setup rpws with n workspaces.
> >                              -a sets up command aliases;
> >                              -k sets up key bindings and aliases.
> > + rpws n                 - switch to this workspace
> >   rpws dump <fname>      - dumps the current layout to <fname>
> >   rpws restore <fname>   - restores rpws workspaces from <fname>
> > + rpws current           - print the number of the current workspace
> >   rpws help              - this documentation
> > - rpws n                 - switch to this workspace
> > =20
> > =20
> >  =3Dhead1 DESCRIPTION
> > @@ -306,14 +315,15 @@ Add the following line in ~/.ratpoisonrc
> >       exec /path/to/rpws init 6 -k
> > =20
> >  This creates 6 aliases rpws1, rpws2, etc. It also binds the keys M-F1,
> > -M-F2, etc to each rpwsN alias. Moreover, rpwsn (Next) and rpwsp (Prev)=
 are
> > +M-F2, etc to each rpwsN alias. Aliases rpwsm1, rpwsm2, etc, are used to
> > +move the focused window to another workspace. Moreover, rpwsn (Next) a=
nd rpwsp (Prev) are
> >  created, and C-M-{Right,Left} are bound to rpws{n,p}. Full list of key=
bindings
> >  created are:
> > =20
> >      M-F$i           Goto workspace $i
> >      C-M-Right       Goto Next workspace
> >      C-M-Left        Goto Prev workspace
> > -    C-M-S-F$i       Move window to workspace $i
> > +    C-M-F$i         Move window to workspace $i
> >      C-M-greater     Move current window to next workspace
> >      C-M-less        Move current window to prev workspace
>=20
> --=20
> jca | PGP: 0x06A11494 / 61DB D9A0 00A4 67CF 2A90  8961 6191 8FBF 06A1 1494



--ZPt4rx8FFjLCG7dd
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.14 (GNU/Linux)

iQEcBAEBAgAGBQJSxZ/XAAoJEO5QSAKJUTTFAE8H/ilWlz3N8Ifrey/EvRrdTA84
Ew0U5iJ20Zd7xQIY37UuSeBMBAKmacpLwfha6tyVGazxvl5pzkviESv1caC4sNhg
9o+kAraxdJ7JXU/8ldo90mPQKCTNUEdI6qR50mk922yBNAGwIg60v/6YgZH8p2ac
zz/vdo5lxoWXa7RVYCpTQQJI5W1jM1T5VtHoW8/vyBTEU4oOM/9ELi8UJHQprqmD
XyfPja8ZDpef3P89S9PoykDBpI60tiwcjm1ddlv1rzChK0oSBXxZH55kwkFEYuvC
PWR1l8M4ilhTbzIBwD1yHMfw6drhbKE+eyzI4i82V2fv8cCq3z4uthx/Ly2U378=
=RBPu
-----END PGP SIGNATURE-----

--ZPt4rx8FFjLCG7dd--

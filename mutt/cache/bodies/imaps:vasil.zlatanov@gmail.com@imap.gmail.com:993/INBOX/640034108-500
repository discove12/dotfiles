Delivered-To: vasil.zlatanov@gmail.com
Received: by 10.76.171.200 with SMTP id aw8csp883041oac;
        Thu, 2 Jan 2014 12:05:13 -0800 (PST)
X-Received: by 10.14.114.71 with SMTP id b47mr70949788eeh.26.1388693113019;
        Thu, 02 Jan 2014 12:05:13 -0800 (PST)
Return-Path: <jca@wxcvbn.org>
Received: from chomsky.autogeree.net (chomsky.autogeree.net. [91.216.110.36])
        by mx.google.com with ESMTPS id p9si67493682eew.181.2014.01.02.12.05.12
        for <vasil.zlatanov@gmail.com>
        (version=TLSv1 cipher=RC4-SHA bits=128/128);
        Thu, 02 Jan 2014 12:05:12 -0800 (PST)
Received-SPF: pass (google.com: domain of jca@wxcvbn.org designates 91.216.110.36 as permitted sender) client-ip=91.216.110.36;
Authentication-Results: mx.google.com;
       spf=pass (google.com: domain of jca@wxcvbn.org designates 91.216.110.36 as permitted sender) smtp.mail=jca@wxcvbn.org
Received: from shannon.wxcvbn.org (localhost [127.0.0.1])
	by wxcvbn.org (8.14.7/8.14.7) with ESMTP id s02K26ml025987
	for <vasil.zlatanov@gmail.com>; Thu, 2 Jan 2014 21:02:06 +0100 (CET)
Received: (from jca@localhost)
	by shannon.wxcvbn.org (8.14.7/8.14.7/Submit) id s02K26DZ021928;
	Thu, 2 Jan 2014 21:02:06 +0100 (CET)
From: jca@wxcvbn.org (=?utf-8?Q?J=C3=A9r=C3=A9mie_Courr=C3=A8ges-Anglas?=)
To: Vasil Zlatanov <vasil.zlatanov@gmail.com>
Subject: Re: [RP] Small Update rpws
References: <20131230232733.GA17881@gmail.com>
	<87sit6jt0u.fsf@shannon.wxcvbn.org> <20140102172023.GA5086@gmail.com>
Date: Thu, 02 Jan 2014 21:02:01 +0100
Message-ID: <87eh4qi24m.fsf@shannon.wxcvbn.org>
User-Agent: Gnus/5.13 (Gnus v5.13) Emacs/24.3 (berkeley-unix)
MIME-Version: 1.0
Content-Type: multipart/signed; boundary="=-=-=";
	micalg=pgp-sha512; protocol="application/pgp-signature"

--=-=-=
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

Vasil Zlatanov <vasil.zlatanov@gmail.com> writes:

> The "man" command produced the same output as the "perldoc" command which
> requires a package to be installed.

Yes, your rpws manpage is probably generated at build time on your
OS.  The ratpoison package doesn't attempt to format nor install it.

> rpwsm$i is not documented anywhere, as is the variable wspl. The user
> would have to spend consirable time looking athe the source code of the
> rpws script to identify them.

Agreed, that's a good reason to add a "current" rpws command and leave
wspl as an implementation detail.  Regarding rpwsm$i what I understood
From=20your mail is that people couldn't find the appropriate keybinding,
but it seems you care more about the aliases names.

> rpws{n,p} is briefly mentioned I don't know what's weird.

I was talking about rpwsm{n,p}.
                        ^

> Who in their sane minds would use 3 modifiers in combination with an
> F# key to move a window to another workspace. That's just retarded and
> badly designed.

I agree that C-M-F$i *looks* more usable, but it isn't, really.  Here on
OpenBSD Ctrl + Alt + F1 drops me to my first virtual console.  I believe
that any sane Unix-like OS with virtual consoles will behave so.  If
your OS is special you can take advantage of C-M-F$i in your rpws copy
but this will not be committed.

> This is the sole reason people are looking to change
> that binding. When they read the manpage to figure out how to do that,
> they find out that the "rpwsm#" is nowhere to be found.
> That's why the man page should is updated to reflect on
> the change. (2 modifiers is bad enough + we don't have to remove the
> old bindings)

So to sum up:
=2D about C-M-F$i: nope.
=2D documenting rpwsm$i aliases is a good thing, but then I don't find
  a good reason not to document rpwsm{n,p} too.  Do you volunteer for
  this small additional work?
=2D rpws "current" would be nice to have
=2D splitting your changes in several commits would be nicer to keep track
  of changes.  You have no idea how annoying it is to read git log and
  find monster commits that deal with unrelated stuff - Shawn
  (ratpoison's main author) was really good at this. ;)
  git makes it so much easier than many other scms, it would be a shame
  not to take advantage of this.  Please also use a short description
  for the subject of the commit (< 60 chars), and add a more detailed
  explanation later if needed, separated from the subject by an empty
  line.

Thanks for your interest in improving rpws.

Regards,

> On Thu, Jan 02, 2014 at 04:35:45PM +0100, J=C3=A9r=C3=A9mie Courr=C3=A8ge=
s-Anglas wrote:
>>=20
>> Hi,
>>=20
>> Vasil Zlatanov <vasil.zlatanov@gmail.com> writes:
>>=20
>> > I've been asked a few times on IRC about a command to move the current
>> > window to a selected workspace, which is undocemented for some reason.
>>=20
>> I think it is documented:
>>=20
>>         This creates 6 aliases rpws1, rpws2, etc. It also binds the keys=
 M-F1,
>>         M-F2, etc to each rpwsN alias. Moreover, rpwsn (Next) and rpwsp =
(Prev)
>>         are created, and C-M-{Right,Left} are bound to rpws{n,p}. Full l=
ist of
>>         keybindings created are:
>>=20
>>             M-F$i           Goto workspace $i
>>             C-M-Right       Goto Next workspace
>>             C-M-Left        Goto Prev workspace
>>             C-M-S-F$i       Move window to workspace $i
>>             C-M-greater     Move current window to next workspace
>>             C-M-less        Move current window to prev workspace
>>=20
>> So did those users actually read ''perldoc rpws''?  Because I think
>> that's the problem at stake here.
>>=20
>> Also:
>> - adding a wordy description for rpwsm$i without doing the same for
>>   rpwsm[np] looks weird to me.
>> - replacing the default keybindings is an unrelated change and means
>>   that users used to C-M-S-F$i will have to change their habits or
>>   modify rpws/their config.  This is not desirable, IMHO.
>>=20
>> > Addionaly I added an option that prints the current workspace which
>> > would be usefull for conky like configs.
>>=20
>> I'm not opposed to this (that would be a separate patch), but what's the
>> advantage over ratpoison -c "getenv wspl"?
>>=20
>> Cheers,
>>=20
>> > From 708fa69f48f10dcbefc20633f553db660be47b24 Mon Sep 17 00:00:00 2001
>> > From: Vasil Zlatanov <vasil.zlatanov@gmail.com>
>> > Date: Tue, 31 Dec 2013 00:08:15 +0100
>> > Subject: [PATCH] Updated rpws to documents the "rpwsm$i" functionality=
, made
>> >  it's bindings more sane and added an option "current" which prints the
>> >  current workspace.
>> >
>> > ---
>> >  contrib/rpws | 18 ++++++++++++++----
>> >  1 file changed, 14 insertions(+), 4 deletions(-)
>> >
>> > diff --git a/contrib/rpws b/contrib/rpws
>> > index 49105c5..558fd1c 100755
>> > --- a/contrib/rpws
>> > +++ b/contrib/rpws
>> > @@ -1,5 +1,10 @@
>> >  #!/usr/bin/env perl
>> >=20=20
>> > +# Copyright (c) 2013 Vasil Zlatanov <vasil.zlatanov@gmail.com>
>> > +# All rights reserved. Modifications under same license as original s=
cript.
>> > +# Changelog:
>> > +# 	Updated manpage and hotkeys
>> > +# 	Added argument current which outputs the current workspace.
>> >  #
>> >  # Copyright (c) 2009 Hatem Nassrat <hnassrat@gmail.com>
>> >  # All rights reserved. Modifications under same license as original s=
cript.
>> > @@ -245,7 +250,7 @@ sub add_keys
>> >          # Switch Workspace
>> >          rp_call ( "definekey top M-F$i rpws$i" );
>> >          # Move Window to wrokspace
>> > -        rp_call ( "definekey top C-M-S-F$i rpwsm$i" );
>> > +        rp_call ( "definekey top C-M-F$i rpwsm$i" );
>> >      }
>> >      rp_call ( "definekey top C-M-Right rpwsn" );
>> >      rp_call ( "definekey top C-M-Left rpwsp" );
>> > @@ -270,6 +275,9 @@ if( $arg eq "help" ) {
>> >  } elsif( $arg eq "restore" ) {
>> >      my $filename =3D shift @ARGV;
>> >      ws_dumprestore($filename);
>> > +} elsif ( $arg eq "current" ) {
>> > +   my $cws =3D rp_call( "getenv wspl" );
>> > +   print "$cws";
>> >  } else {
>> >     open LOCK, ">>$lockfile" or die "Cannot open lockfile: $lockfile";
>> >     flock(LOCK, LOCK_EX);
>> > @@ -287,10 +295,11 @@ rpws - Implements multiple workspaces in ratpois=
on
>> >   rpws init n [-k] [-a]  - setup rpws with n workspaces.
>> >                              -a sets up command aliases;
>> >                              -k sets up key bindings and aliases.
>> > + rpws n                 - switch to this workspace
>> >   rpws dump <fname>      - dumps the current layout to <fname>
>> >   rpws restore <fname>   - restores rpws workspaces from <fname>
>> > + rpws current           - print the number of the current workspace
>> >   rpws help              - this documentation
>> > - rpws n                 - switch to this workspace
>> >=20=20
>> >=20=20
>> >  =3Dhead1 DESCRIPTION
>> > @@ -306,14 +315,15 @@ Add the following line in ~/.ratpoisonrc
>> >       exec /path/to/rpws init 6 -k
>> >=20=20
>> >  This creates 6 aliases rpws1, rpws2, etc. It also binds the keys M-F1,
>> > -M-F2, etc to each rpwsN alias. Moreover, rpwsn (Next) and rpwsp (Prev=
) are
>> > +M-F2, etc to each rpwsN alias. Aliases rpwsm1, rpwsm2, etc, are used =
to
>> > +move the focused window to another workspace. Moreover, rpwsn (Next) =
and rpwsp (Prev) are
>> >  created, and C-M-{Right,Left} are bound to rpws{n,p}. Full list of ke=
ybindings
>> >  created are:
>> >=20=20
>> >      M-F$i           Goto workspace $i
>> >      C-M-Right       Goto Next workspace
>> >      C-M-Left        Goto Prev workspace
>> > -    C-M-S-F$i       Move window to workspace $i
>> > +    C-M-F$i         Move window to workspace $i
>> >      C-M-greater     Move current window to next workspace
>> >      C-M-less        Move current window to prev workspace
>>=20
>> --=20
>> jca | PGP: 0x06A11494 / 61DB D9A0 00A4 67CF 2A90  8961 6191 8FBF 06A1 14=
94
>
>

=2D-=20
jca | PGP : 0x06A11494 / 61DB D9A0 00A4 67CF 2A90  8961 6191 8FBF 06A1 1494

--=-=-=
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCgAGBQJSxcW5AAoJEGGRj78GoRSUJ3kQAKRBwf63tF+kKKNbXMH31F0a
uE2vOkz7d1ach7varifHWKVKlpZrVlmKRbgwvUAOd+AKrvXPCcLM+h2o2hw/11z/
m7OjNjcW2TQlI0/Fa51sjp7plTj0S0x9emlsHZp6EuPyKZ0zzjAvnGZoeV8R02lw
GsW458nWMfSFW4C/qdUchedIw+OOrcSYbXiyM1PrSxjE2HDP9+QXUJu4SuCkoowC
iVVaUQS7jKAYwmyWpJsp3pCSqqPP7MHP58lUbz+8Y5RgAxuTGnpSSHTgaOJwzPL8
rtx0r5MZSrfdvawJFPaIvslXy1apP3dQiNpkkYPVXWFqrfdwxb3gXkrSVWnarZc6
WRfXAL4xkqoY/LKJ553w9n3FMZvUwtAI04qKiLLFGfCFfxzkKQuNygGApLiF2sZn
zw430XDUXUkAsGozwNfOIanxsElVU/OmCwNGASkwyqIKwHLrlUQFo9cmvin0M7PH
q8We8NYuFyeMYE9bEAErcU41fY+uYCcELXZWwz1OiEgoLxQta4pp1ofzsLNraDap
QerlMFjIhprySHqj3UaXMw6sB9wCA4Hi+uHCHIwdIDtY+MLcaLCby0LZGf7Vel/p
fKWxs3rslBIYavRnvbf148q2V6wCkaeBXMF1E1XCLz7KFjjgX+kpcEE3fM+rk32D
dFaYbyGrOpmHRwnw/7mv
=EXlm
-----END PGP SIGNATURE-----
--=-=-=--
